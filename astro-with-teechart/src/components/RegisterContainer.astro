---
import { registerUser }from '../javascript/register.js';
---
<body class="bg-slate-200 p-10">
    <div class="container mx-auto w-3/6 bg-white p-10 rounded-lg">
        <div class="flex justify-center">
            <div class="w-2/3 h-auto bg-white text-gray-800 rounded-lg p-10 mt-5 flex flex-col">
                <slot name="steema-logo">
                    <div class="flex justify-left">
                        <img src="../public/image00.png" alt="Logo steema" class="mt-5" width="80" height="80"/>
                    </div>
                </slot>
                <h1 class="text-justify text-4xl font-semibold mb-2">Sign up</h1>
                <slot name="welcome-message">
                    <div class="w-full font-sans text-gray-500 text-sm text-justif items-center container mx-auto m-2">
                        <span>Enter your details below to create your account and get started</span>
                    </div>
                </slot>
                <div class="flex flex-wrap -mx-3">
                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                        <label for="inputUsername" class="mb-2">Fullname</label>
                        <input type="text" class="bg-slate-300 text-bg-dark rounded-md p-2 mb-4" id="inputUsername" placeholder="enter..." aria-label="Username" aria-describedby="basic-addon1">   
                        <label for="inputDateOfBirth" class="mb-2">Date of birth</label>
                        <input type="date" class="bg-slate-300 text-bg-dark rounded-md p-2 mb-4" id="inputDateOfBirth" name="birthday" pattern="\d{2}-\d{2}-\d{4}">
                        <label for="inputNationality" class="mb-2">Nationality</label>
                        <select id="nationalitySelect" class="flex bg-slate-300 text-bg-dark rounded-md p-2 mb-4">
                        </select>
                        <label for="inputPassword" class="mb-2">Password</label>
                        <input type="password" class="bg-slate-300 text-bg-dark rounded-md p-2 mb-4" id="inputPassword" placeholder="enter...">
                    </div>
                    <div class="w-full md:w-1/3 px-3">
                        <label for="inputEmail" class="mb-2">Email</label>
                        <input type="email" class="bg-slate-300 text-bg-dark rounded-md p-2 mb-4" id="inputEmail" placeholder="example@gmail.com">
                        <label for="inputPhoneNumber" class="mb-2">Phone number</label>
                        <input type="text" class="bg-slate-300 text-bg-dark rounded-md p-2 mb-4" id="inputPhoneNumber" placeholder="+34 123 45 67 89" aria-label="Username" aria-describedby="basic-addon1">   
                        
                        <label for="inputIdType" class="mb-2">ID type</label>
                        <select id="idType" class="flex bg-slate-300 text-bg-dark rounded-md p-2 mb-4">
                            <option value="Passport">Passport</option>
                        </select>
                        <label for="inputConfirmPassword" class="mb-2">Confirm password</label>
                        <input type="password" class="bg-slate-300 text-bg-dark rounded-md p-2 mb-4" id="inputPassword" placeholder="enter...">
                    </div>       
                </div>
                <div class="flex mt-3 items-center mx-auto w-full">
                    <button type="button" class="text-black cancel-btn hover:bg-slate-200 bg-slate-300 w-2/3 p-2 m-3 mt-3 rounded-md">Cancel</button>
                    <button type="button" class="text-white confirm-btn hover:bg-indigo-500 bg-indigo-600 w-2/3 p-2 m-3 mt-3 rounded-md">Confirm</button>
                </div>
                <div class="items-center justify-between m-3 mx-auto">
                    <span class="flex text-center text-gray-500">Already have an account?<p class="text-violet-700 ml-2">Login</p></span>
                </div>
            </div>
        </div>
        <script>
            const countries = ['Spain','France','Italy', 'Portugal', 'Norway', 'Andorra', 'Netherlands', 'Ireland', 'Denmark', 'Austria', 'Sweden', 'Hungary', 'Finland','Croatia'];
            const selectElement = document.getElementById("nationalitySelect");
        
            for(let i = 0; i < countries.length; i++) {
                const option = document.createElement("option");
                option.text = countries[i];
                option.value = countries[i];
                (selectElement as HTMLSelectElement).add(option);
            }
        </script>
<script>
    const confirmButton = document.querySelector('button.confirm-btn');

    confirmButton.addEventListener('click', () => {
        const userName = (document.getElementById("inputUsername") as HTMLInputElement).value;
        const password = (document.getElementById("inputPassword") as HTMLInputElement).value;
        const email = (document.getElementById("inputEmail") as HTMLInputElement).value;
        const dateOfBirth = (document.getElementById("inputDateOfBirth") as HTMLInputElement).value;
        const nationality = (document.getElementById("nationalitySelect") as HTMLSelectElement).value;
        const phoneNumber = (document.getElementById("inputPhoneNumber") as HTMLInputElement).value;
        const idType = (document.getElementById("idType") as HTMLSelectElement).value;

        const userObj = {
            userName: userName,
            password: password,
            email: email,
            dateOfBirth: dateOfBirth,
            nationality: nationality,
            phoneNumber: phoneNumber,
            idType: idType
        };

        const storedUsers = JSON.parse(localStorage.getItem('Users')) || [];

        storedUsers.push(userObj);

        localStorage.setItem('Users', JSON.stringify(storedUsers));

        (document.getElementById("inputUsername") as HTMLInputElement).value = "";
        (document.getElementById("inputPassword") as HTMLInputElement).value = "";
        (document.getElementById("inputEmail") as HTMLInputElement).value = "";
        (document.getElementById("inputDateOfBirth") as HTMLInputElement).value = "";
        (document.getElementById("nationalitySelect") as HTMLSelectElement).value = "";
        (document.getElementById("inputPhoneNumber") as HTMLInputElement).value = "";
        (document.getElementById("idType") as HTMLSelectElement).value = "";
    });
</script>


    </div>
</body>